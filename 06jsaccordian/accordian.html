<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
	<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE" />
	<meta name="description" content="">
	<title>HS JS Test</title>
	<link href="https://fonts.googleapis.com/css?family=Work+Sans:400,600" rel="stylesheet">
	<style>
		* {
			box-sizing: border-box;
			font-family: 'Work Sans';
		}
		
		.accontainer {
			max-width: 700px;
			margin: 0px auto 30px auto;
		}
		
		.ac {
			border: 1px #000 solid;
			margin-bottom: 15px;
		}
		
		.ac>h3 {
			background-repeat: no-repeat;
			background-position: center right;
			margin: 10px;
			padding: 5px;
		}
		
		.ac_content:after {
			content: ".";
			visibility: hidden;
			display: block;
			height: 0;
			clear: both;
		}
		
		.acleft,
		.acright {
			float: left;
		}
		
		.acleft {
			width: 300px;
			padding: 0px 30px;
		}
		
		.acright {
			width: 378px;
		}
		
		.acright img {
			max-width: 100%;
		}
		
		.ac>div {
			display: none;
			padding: 0px 0px 0px 20px;
		}
		.ac>h3, .cola, .expa{
			cursor: pointer;
		}
	</style>
</head>

<body>
	<div class="accontainer">
		<h1>Bru Theme</h1>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="bru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="bru-content.jpg">
				</div>
			</div>
		</div>
	</div>

	<div class="accontainer">

		<h1>Tru Theme</h1>
		<div class="ac tru">
			<h3>Tru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac tru">
			<h3>Tru Title 2</h3>
			<div class="ac_content">
				<div class="acleft">
					<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
	</div>
	<div class="accontainer">
		<h1>Mixed Theme (Going Cray)</h1>
		<div class="ac bru">
			<h3>Bru Title 1</h3>
			<div class="ac_content">
				<div class="acleft">
					<div>
						<h1>Lorem ipsum</h1>
						<h3>Lorem ipsum</h3>
						<p><b>Lorem</b> <i>ipsum</i></p>
					</div>
					<ol>
						<li>Lorem ipsum</li>
						<li>Lorem ipsum</li>
					</ol>
				</div>
				<div class="acright">
					<img src="tru-content.jpg">
				</div>
			</div>
		</div>
		<div class="ac tru">
			<h3>Min Syntax</h3>
			<div>
				<p>this is the only code needed to make an accordian</p>
				<xmp>
					<div class="accontainer">
						<div class="ac tru">
							<h3>Title Here</h3>
							<div>
								content here
							</div>
						</div>
					</div>
				</xmp>
			</div>
		</div>
	</div>

	<script>
		//capture all the H3s...
		var achead = document.querySelectorAll('.ac > H3');

		//...loop through them and do the following
		for (a = 0; a < achead.length; a++) {

			//1. look for the the class bru or tru to establish theme styles
			//console.log(achead[a].parentElement.className.indexOf('bru'));
			if (achead[a].parentElement.className.indexOf('bru') > -1) {
				achead[a].style.backgroundImage = "url('bru-closed.jpg')";
				achead[a].style.color = "#532997";
				//console.log(achead[a].innerHTML + ' bru here');
			} else if (achead[a].parentElement.className.indexOf('tru') > -1) {
				achead[a].style.backgroundImage = "url('tru-closed.jpg')";
				achead[a].style.color = "#005faf";
				//console.log(achead[a].innerHTML + ' tru here');
			}

			//2. bind a click event to toggle the display of the following sibling
			// and restyle
			achead[a].onclick = function() {
				var acStuff = this.nextElementSibling;
				//console.log(acStuff.style.display);
				if (acStuff.style.display === 'none' || acStuff.style.display === '') {
					acStuff.style.display = 'block';
					var bg = this.style.backgroundImage.replace('closed', 'opened');
					this.style.backgroundImage = bg;
					//console.log('open');
				} else {
					acStuff.style.display = 'none';
					var bg = this.style.backgroundImage.replace('opened', 'closed');
					this.style.backgroundImage = bg;
					//console.log('close');
				}
			};

		}

		// collpase and expand links dynamically for each accordian
		var acc = document.querySelectorAll('.accontainer');
		for (b = 0; b < acc.length; b++) {
			var allcontainer = document.createElement("P");
			acc[b].appendChild(allcontainer);
			acc[b].lastChild.innerHTML = '<b class="cola">collapse all</b> | <b class="expa">expand all</b>';
		}

		//trigger click on expanded accordians to collapse
		var cBtn = document.querySelectorAll('.cola');
		for (c = 0; c < cBtn.length; c++) {
			cBtn[c].onclick = function() {
				ch3 = this.parentElement.parentElement.querySelectorAll('.ac > h3');
				for (d = 0; d < ch3.length; d++) {
					var acStuff = ch3[d].nextElementSibling;
					if (acStuff.style.display === 'block') {
						ch3[d].click();
					}
				}

			}
		}

		//trigger click on collapsed accordians to expand
		var eBtn = document.querySelectorAll('.expa');
		for (c = 0; c < eBtn.length; c++) {
			eBtn[c].onclick = function() {
				eh3 = this.parentElement.parentElement.querySelectorAll('.ac > h3');
				for (e = 0; e < eh3.length; e++) {
					var acStuff = eh3[e].nextElementSibling;
					if (acStuff.style.display === 'none' || acStuff.style.display === '') {
						eh3[e].click();
					}
				}

			}
		}
	</script>
</body>

</html>